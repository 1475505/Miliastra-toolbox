---
id: mh1t3z9s7hne
title: 3.14掉落物、道具、背包——制作一个可掉落且能使用的道具
url: https://act.mihoyo.com/ys/ugc/tutorial/course/detail/mh1t3z9s7hne
sourceURL: https://act.mihoyo.com/ys/ugc/tutorial/course/detail/mh1t3z9s7hne
description: undefined
language: zh
scope: tutorial
crawledAt: 2025-10-30T19:56:59.307Z
---

# 前言

## 课程说明：

**课程内容：** 该课程主要包括掉落物、道具和背包的制作与使用案例。

**学习目标：** 学会如何配置掉落物、道具和背包来制作可被拾取进背包的道具，并且在背包中使用。

_\*\*该课程中涉及【局内编辑器面板配置】和【千星沙箱节点图】两个模块内容，并且相互关联，阅读时建议按照课程顺序完整阅读。_

## 相关信息：

**推荐学习顺序：**【前置课程】→【当前课程】→【综合指南】

_\*\*如课程中遇到概念不清等问题或想要了解更多相关信息，根据需要查询_ **_【综合指南】_** _即可_

**前置课程：** 该课程与以下前置课程所讲述的功能知识点相关 _（建议首次使用时，优先学习_ **_【前置课程】_**_，学习体验更流畅）_

> [2.1碰撞与交互——触发一个事件](https://act.mihoyo.com/ys/ugc/tutorial/course/detail/mhumsn9uap96)

关联知识点：课程中将涉及以下基础概念 _（建议优先根据该课程学习即可，如遇到概念不清等问题或想要了解更多相关信息，再根据需要查阅_ **_【综合指南】_** _相关章节）_

> [掉落物](https://act.mihoyo.com/ys/ugc/tutorial//detail/mhkfj1iilnck)
>
> [道具](https://act.mihoyo.com/ys/ugc/tutorial//detail/mhbgx0rspbqu)
>
> [背包](https://act.mihoyo.com/ys/ugc/tutorial//detail/mhogfq9bf86q)

* * *

# 掉落物与道具——制作可掉落的道具

## 功能示例-1：制作一个被销毁后会产生掉落道具的机关

### 1.概念简述

**掉落物：** 可以掉落在场景中的虚拟物品，通常用于制作可拾取的装备、消耗品、货币等。

**道具：** 可以被角色获取、使用、交易的虚拟物品。

### 2.教学内容

**功能效果：** 制作一个销毁后掉落禽肉的机关

**效果演示：**

### 3.操作步骤

**1.【局内编辑器】创建一个掉落物**

创建一个预设掉落物作为掉落道具（教程以禽肉为例），在元件库面板中点击>>>进入掉落物页，点击预设中的【挑战币掉落物】>>>点击【模型】>>>选择【禽肉】即切换掉落物模型>>>点击【保存】即可添加一个新的掉落物。

掉落物会默认携带【掉落物组件】，在面板中点击>>>进入组件页便可以看到【掉落物组件】，为达到预期的功能效果，教程中配置如下：

|     |     |
| --- | --- |
| 要做的功能 | 对应的配置项 |
| 掉落物通过交互项来拾取 | 【拾取规则】——选择“交互拾取“ |
| 掉落物掉落时有落地动画 | 【开启掉落动画】——选择“开启“ |
| 掉落物通过其他物体销毁来掉落，不会直接放在关卡中 | 【掉落内容】——可以不配置<br>如果掉落物直接放置在关卡中，则掉落内容需要进行配置，否则无法进行交互。<br>如果掉落物是通过其他物体销毁来掉落，则掉落内容是在对应物体的【固定掉落物组件】里面进行配置，具体配置方法见下文。 |

**2.【局内编辑器】新建道具**

此时我们仅配置了掉落物的模型，但是还未将道具和掉落物两者关联起来，因此我们还需要配置【禽肉】对应的道具：

在战斗预设面板中，点击>>>进入道具配置页，点击【新建道具】>>>在弹窗中选择对应的道具图标>>>设置道具的基本信息，如名称、类型、品质等（教学中将禽肉设置为普通道具，品质为绿色）>>>确认创建。

在创建后的道具详情页中，找到【掉落设置】，在“对应掉落物”>>>“点击配置掉落物”，选择我们刚做好的掉落物【禽肉】。

为达到预期的功能效果，教程中配置如下：

|     |     |
| --- | --- |
| 要做的功能 | 对应的配置项 |
| 道具可以被消耗 | 【在背包中的分类】——选择“消耗品“ |
| 道具持有实体在被销毁时，会掉落道具 | 【归属者销毁时的道具处理】——选择“掉落“ |
| 1个玩家捡取此道具后，其他玩家不能捡取 | 【掉落类型】——选择“共享掉落“ |

**3.【局内编辑器】新建销毁后可掉落道具的机关**

在元件库中，创建一个实体作为可销毁的机关（教程以雀雀球为例），在面板中点击>>>进入组件页，点击>>>选择【固定掉落物组件】即可添加。

点击【固定掉落物组件】中的详细编辑进行具体配置，为达到预期的功能效果，教程中配置如下：

|     |     |
| --- | --- |
| 要做的功能 | 对应的配置项 |
| 掉落3个禽肉但只显示1个禽肉掉落物模型 | 【归属者销毁时道具处理】——选择“集体掉落“ |
| 掉落后的禽肉被某个玩家拾取后，其他玩家不能再拾取 | 【掉落类型】——选择“共享掉落“ |
| 掉落物模型为我们刚设置好的禽肉模型 | 【对应掉落物】——选择之前制作的掉落物“禽肉“ |
| 销毁后掉落道具固定为3个禽肉 | 【固定掉落配置】——选择之前制作的道具“禽肉“，数量选择“3” |

**4.【局内编辑器】给机关设置销毁逻辑**

给刚刚配置好掉落逻辑的机关（教程以雀雀球为例）添加一个销毁逻辑，为便于快速展示效果，教程以：有实体进入雀雀球的碰撞触发区便立即销毁为例。实际制作时可根据玩法需求，用其他方式来实现销毁效果。

①给雀雀球配置【碰撞触发器组件】并配置好触发区。

**5.【千星沙箱】编写销毁逻辑的节点图**

需要一个编写节点图来销毁掉对应的实体，我们需要通过碰撞触发器来触发该节点图。制作好的节点图挂载在“雀雀球”元件上。

|     |     |     |     |
| --- | --- | --- | --- |
|  |  | 要做的功能 | 对应的配置项 |
| 功能<br>进入碰撞触发区唤出商店 | 触发场景 | 进入触发区 | 【事件节点】：进入碰撞触发器 |
| 条件 | / | / |
| 结果 | 销毁实体 | 【查询节点】：确定被销毁实体是绑定了对应节点图的实体。<br>【执行节点】：销毁实体。 |

**6.【局内编辑器】放置元件，试玩体验**

将制作好的【雀雀球】机关元件放入场景中，点击试玩即可体验该功能。

_\*\*需要注意的是：当前禽肉无法被拾取，这是由于还没有配置背包组件导致的，具体配置方法请见下文功能示例-2。_

# 背包——拾取道具并在背包中使用

## 功能示例-2：拾取掉落物进背包并使用道具恢复生命

### 1.概念简述

**背包：** 收纳玩家持有的道具，如装备、消耗品、材料等。

### 2.教学内容

**功能效果：** 拾取掉落的禽肉，在背包中使用该道具，使用后可恢复生命。

**效果演示：**

**1.【局内编辑器】添加背包组件及模板**

要让掉落物正常被拾取，需要与其交互的角色身上挂载【背包组件】我们点击进入战斗预设界面>>>点击【角色编辑】面板中的>>>进入组件页，点击>>>选择【背包组件】即可添加。

背包还需要配置对应的【背包模板】，我们点击背包组件的详细编辑>>>点击背包模板中的“请选择模板”>>>点击“打开背包模板编辑”>>>点击“添加模板”即可完成模板添加。

_\*\*教程中由于没有特殊需求，故使用默认配置。实际制作时，可以根据自身需要灵活调整背包模板的参数。_

配置好对应模板后，别忘记回到背包组件的基础设置，将刚刚配置好的背包模板勾选上。

此外，可以通过在【初始物品列表】中配置对应的道具，给角色添加初始道具；由于教程没有特殊需求，故不做配置。

配置好背包后，对应角色就可以拾取掉落物进背包了，可以通过快捷键【B】快速打开背包。

**2.【千星沙箱】配置道具的使用逻辑**

我们希望使用【禽肉】后，可以恢复角色的生命值，因此我们需要给道具【禽肉】挂载节点图逻辑。我们进入辅助编辑器，在服务器节点图中找到【道具节点图】页签，新建一个空白节点图命名为“禽肉恢复生命”。

我们希望角色在使用道具【禽肉】时，能恢复角色的生命值，具体逻辑和节点图连接方法见下：

|     |     |     |     |
| --- | --- | --- | --- |
|  |  | 要做的功能 | 对应的配置项 |
| 功能<br>使用“禽肉”后，玩家恢复生命值 | 触发场景 | 道具被使用 | 【事件节点】：物资道具被使用时 |
| 条件 | 使用道具的是禽肉 | 【流程控制节点】：双分支&【运算节点】：是否相等，来判断使用的道具是否是禽肉的id |
| 结果 | 恢复玩家生命值 | 【查询节点】：确定恢复目标为背包持有者，发起实体为道具自身<br>【运算节点】：由于可能一次使用事件中，角色会同时使用多个道具，因此需要根据其使用量进行<br>乘法运算，计算出最终的回复量，并将其转换为浮点数。<br>【执行节点】：直接恢复生命 |

随后，回到局内编辑器打开战斗预设界面>>>进入道具编辑页面>>>选择禽肉>>>在基础设置中，点击关联道具节点图>>>选择我们刚写好的“禽肉恢复生命”的节点图，将其挂载在道具上即可。

**3.【局内编辑器】试玩体验**

此时进入试玩，即可拾取并使用道具恢复生命。

_\*\*更多相关信息可自行查阅【综合指南-资源系统-背包】【综合指南-资源系统-道具】【综合指南-资源系统-掉落物】【综合指南-背包组件】【综合指南-掉落物组件】【综合指南-固定掉落物组件】_

* * *

# 课程总结及辅助课件

**课程作业：** 可根据课程教学内容尝试进行以下功能复刻

> **功能复刻：** 制作击杀后会掉落道具的造物（怪物）

**课程回顾：** 学会如何通过基础设置制作可掉落的道具，并且结合节点图逻辑，使其可以在背包中使用并触发相应逻辑。

### 辅助课件

我们提供了上述课程内容相关的工程文件，可结合【教学存档-掉落物、道具、背包】对照学习

掉落物、道具、背包.gil

22.7 KB