---
id: mhm1sdi4ckxg
title: 3.7过滤节点图——对不同物体筛选过滤，产生不同效果
url: https://act.mihoyo.com/ys/ugc/tutorial/course/detail/mhm1sdi4ckxg
sourceURL: https://act.mihoyo.com/ys/ugc/tutorial/course/detail/mhm1sdi4ckxg
description: undefined
language: zh
scope: tutorial
crawledAt: 2025-10-30T19:58:52.397Z
---

# 前言

## 课程说明：

**课程内容：** 过滤节点图的基础逻辑与使用方法

**学习目标：** 了解如何通过配置过滤节点图用于进行筛选过滤从而对不同物体产生不同效果

_\*\*该课程中涉及【局内编辑器面板配置】和【千星沙箱节点图】两个模块内容，并且相互关联，阅读时建议按照课程顺序完整阅读_

## 相关信息：

**推荐学习顺序：**【前置课程】→【当前课程】→【综合指南】

_\*\*如课程中遇到概念不清等问题或想要了解更多相关信息，根据需要查询_ **_【综合指南】_** _即可_

前置课程：该课程与以下前置课程所讲述的功能知识点相关 _（建议首次使用时，优先学习_ **_【前置课程】_**_，学习体验更流畅）_

> [2.1碰撞与交互——触发一个事件](https://act.mihoyo.com/ys/ugc/tutorial/course/detail/mhumsn9uap96)
>
> [2.9角色扰动装置——让角色受到持续或瞬间力的作用](https://act.mihoyo.com/ys/ugc/tutorial/course/detail/mh09qf0mc628)

关联知识点：课程中将涉及以下基础概念 _（建议优先根据该课程学习即可，如遇到概念不清等问题或想要了解更多相关信息，再根据需要查阅_ **_【综合指南】_** _相关章节）_

> [基础概念](https://act.mihoyo.com/ys/ugc/tutorial//detail/mhk23ora1wom)

* * *

# 过滤节点图——对物体进行筛选过滤

## 功能示例-1：选项卡显示过滤，特定条件下看到不同交互项

### 1.概念简述

**过滤节点图：** 通过自定义判断规则，对特定标签/对象进行判定，可实现对不同物体进行筛选过滤从而导致不同效果。

**特殊：** 过滤节点图不同于其他节点图，仅会以一个布尔值（是/否）作为返回值，布尔值为【是】时判断通过

当前过滤节点图普遍运用于以下三个场景：

> 【选项卡】布尔值为【是】时展示选项——用于展示不同的交互项（制作对不同对象提示引导或可交互等效果）；
>
> 【命中检测】布尔值为【是】时可命中——用于命中/不命中特定单位（制作狙击枪子弹可穿墙等效果）；
>
> 【角色扰动装置】布尔值为【是】时可扰动——用于对不同标签的角色造成不同效果

**\*\*过滤节点图在【客户端节点图】内进行配置**

### 2.教学内容

**功能效果：** 制作交互机关，没有钥匙时提示引导获取钥匙，获取钥匙后可以操作开门

**效果演示：**

_\*\*演示中的文本显示，需达到Lv.3后解锁【自定义文本外显】功能，教程中以效果展示为主_

### 3.操作步骤

**功能原理：**

> 过滤节点图通过判定【玩家】变量是否有【钥匙】，展示不同的选项，没有钥匙时引导获取钥匙，有钥匙时可进行开门操作；
>
> 【玩家】预设自定义变量【是否有钥匙】，类型：布尔值，初始值：否，获取钥匙后改变自定义变量为是；
>
> 开门后，激活门的基础运动器

**1.【局内编辑器】制作物件并添加组件**

①创建一个元件作为交互物（教程以拉杆为例），添加【组件-选项卡】

②创建一个元件作为钥匙，添加【组件-碰撞触发器】

③创建一个元件作为门，添加【组件-基础运动器】

**2.【局内编辑器】配置面板参数**

①交互物添加选项卡组件后，添加2个选项卡，并设定不同的文案

|     |     |
| --- | --- |
| 要做的功能 | 对应的配置项 |
| 有2个不同的交互项，分别对应【引导提示】和【操作开门】 | 设定2个选项卡的不同文案 |
| 有一定触发区域 | 【触发选项区域】调整为合适的大小 |

②钥匙添加碰撞触发器后调整触发规则

|     |     |
| --- | --- |
| 要做的功能 | 对应的配置项 |
| 仅角色能触发拾取操作 | 【生效目标】设定为仅角色 |
| 有一定触发区域 | 【触发区】调整为合适的形状和大小 |

③门添加基础运动器后

|     |     |
| --- | --- |
| 要做的功能 | 对应的配置项 |
| 非初始生效，通过开门激活 | 【初始生效】选项关闭 |
| 向上开门 | 【运动类型】使用匀速直线<br>【详细设置】运动规则调整为合适的速率即可 |

**3.【局内编辑器】添加自定义变量**

给【玩家】添加自定义变量用于判断是否具有钥匙量

|     |     |
| --- | --- |
| 要做的功能 | 对应的配置项 |
| 变量名设置，用于节点图配置使用 | 【变量名】调整为“是否有钥匙”<br>_\*\*变量名称不影响其效果，仅作为节点图配置和索引使用，以自己方便记忆的命名配置即可_ |
| 钥匙共具有“拥有、未拥有”2个状态 | 【变量类型】调整为“布尔值”<br>_\*\*使用“浮点数”“字符串”等均能满足需要，此处仅为了方便计算使用，可按照自己喜好配置即可_ |
| 初始为“未拥有”状态 | 【初始数值】调整为“否” |

**4.【千星沙箱】服务器节点图配置**

①配置【交互物】节点图：

**\*\*该节点图挂载在【交互物】上**

|     |     |     |     |
| --- | --- | --- | --- |
|  |  | 要做的功能 | 对应的配置项 |
| 功能<br>玩家交互引导提示后，给钥匙增加一个特效引导；交互开门后开门 | 触发场景 | 选择选项卡后，触发事件 | 【事件节点】：选项卡选中时 |
| 条件 | 根据不同的操作，执行不同的效果 | 【流程控制节点】：使用多分支对“选项序号”进行判断<br>_\*\*该教程中，选项序号分别对应：_<br>_序号1-开门_<br>_序号2-提示引导_ |
| 结果-1 | 拉杆变化，并且开门 | 【执行节点】：使用【设置预设状态】让拉杆产生简易变化，突出表现<br>【执行节点】：使用【激活基础运动器】开启门上预设的运动器 |
| 结果-2 | 给钥匙添加一个特效用于提示引导 | 【执行节点】：【挂载循环特效】给钥匙配置一个简单的特效用于引导玩家获取 |

②配置【钥匙】节点图：

**\*\*该节点图挂载在【钥匙】上**

|     |     |     |     |
| --- | --- | --- | --- |
|  |  | 要做的功能 | 对应的配置项 |
| 功能<br>玩家进入钥匙可拾取范围后拾取钥匙 | 触发场景 | 玩家进入一定区域 | 【事件节点】：进入碰撞触发器时 |
| 条件 | / | / |
| 结果-1 | 让玩家获取钥匙 | 【执行节点】：使用【设置自定义变量】更改玩家的自定义变量为【是】 |
| 结果-2 | 钥匙消失，不可重复拾取 | 【执行节点】：使用【销毁实体】将钥匙自身销毁 |

**5.【千星沙箱】客户端节点图配置**

在【客户端-过滤节点图】中，添加并配置节点图（设置参考见下图），为达到预期的功能效果教程中配置如下：

|     |     |     |     |
| --- | --- | --- | --- |
|  |  | 要做的功能 | 对应的配置项 |
| 功能-1<br>玩家【有钥匙】时展示 | 触发目标 | 查询进入选项卡触发区的实体的自定义变量 | 【目标实体】=进入选项卡触发区的实体<br>_\*\*该实体为角色，切换为玩家再查询自定义变量_ |
| 条件 | 判断进入选项卡触发区域的玩家【有钥匙】 | 运算节点：【是否相等】判断目标实体自定义变量为【是】<br>_\*\*注意检查变量类型是否为【布尔值】_ |
| 结果 | / | / |

|     |     |     |     |
| --- | --- | --- | --- |
|  |  | 要做的功能 | 对应的配置项 |
| 功能-2<br>玩家【没有钥匙】时展示 | 触发目标 | 查询进入选项卡触发区的实体的自定义变量 | 【目标实体】=进入选项卡触发区的实体<br>_\*\*该实体为角色，切换为玩家再查询自定义变量_ |
| 条件 | 判断进入选项卡触发区域的玩家【没有钥匙】 | 运算节点：【是否相等】判断目标实体自定义变量为【否】<br>_\*\*注意检查变量类型是否为【布尔值】_ |
| 结果 | / | / |

**6.【局内编辑器】在选项卡组件中添加过滤节点图**

根据不同的交互项添加对应的过滤节点图

开门选项，对应【有钥匙】时可见的过滤节点图

引导选项，对应【没有钥匙】时可见的过滤节点图

**7.【局内编辑器】挂载节点图**

将其他配置的服务器节点图挂载在该元件上，保存元件设置

**8.【局内编辑器】放置元件，试玩体验**

将制作好的元件放置在场景中，进入试玩即可体验该功能

* * *

# 课程总结及辅助课件

**课程作业：** 可根据课程教学内容尝试进行以下功能复刻/拓展

> 功能复刻-1：制作特定阵营才能开启的宝箱
>
> 功能复刻-2：制作特定枪械子弹可穿墙的效果

**课程回顾：** 学会根据不同场景需求制作特定的过滤节点图，用于对不同标签的物件进行筛选

### 辅助课件

我们提供了上述课程内容相关的工程文件，可结合 **【教学存档-过滤节点图】** 对照学习

过滤节点图.gil

23.2 KB